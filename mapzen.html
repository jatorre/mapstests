<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0-rc.1/leaflet.css">
    <link rel="stylesheet" href="https://erasermap.com/map/css/main.css">
  </head>
  <body>
    <div id="map"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.0/leaflet.js"></script>
    <script src="https://mapzen.com/tangram/0.11.8/tangram.min.js"></script>
    <script src="https://erasermap.com/map/bundle.min.js"></script>
    <script>
    
    var parseQueryString = function() {
        var str = document.location.href;
        var objURL = {};
        str.replace(
            new RegExp( "([^?=&]+)(=([^&]*))?", "g" ),
            function( $0, $1, $2, $3 ){
                objURL[ $1 ] = $3;
            }
        );
        return objURL;
    };
    var params = parseQueryString();
    if (isNaN(params["lat"])){latitude=40.706213526877455;}else{latitude=params["lat"];}
    if (isNaN(params["lon"])) {longitude=-74.0044641494751;}else{longitude=params["lon"];}
    if (isNaN(params["z"])) {z=15;}else{z=params["z"];}
  	
  	var mapOptions = {};
		var map = L.map('map', mapOptions);
		var latitude = latitude;
		var longitude = longitude;
		var zoom = z;	
		map.setView([latitude, longitude], zoom);

		var tileLayer = Tangram.leafletLayer({scene: 'https://dl.dropboxusercontent.com/u/580074/test_basemaps/bronze.yaml', attribution: '<a target="_blank" href="https://carto.com/attributions">&copy; CARTO</a> | <a target="_blank" href="http://www.openstreetmap.org/copyright">&copy; OpenStreetMap contributors</a> | <a target="_blank" href="http://mapzen.com">&copy; Mapzen</a>'});
		map.addLayer(tileLayer);
		
		
      
    </script>
  </body>
</html>